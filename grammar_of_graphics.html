<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Explaining the Grammar of Graphics – Data Visualisation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-e31584831b205ffbb2d98406f31c2a5b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Data Visualisation</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./planning_a_specification.html"> 
<span class="menu-text">Planning a Graphic</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./grammar_of_graphics.html" aria-current="page"> 
<span class="menu-text">Explaining the Grammar of Graphics</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Planning_a_complex_graph.html"> 
<span class="menu-text">A Complex Graphic in Practice</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./animation_in_a_graphic.html"> 
<span class="menu-text">Animation with gganimate</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-the-grammer-of-graphics" id="toc-what-is-the-grammer-of-graphics" class="nav-link active" data-scroll-target="#what-is-the-grammer-of-graphics">What is the Grammer of Graphics?</a></li>
  <li><a href="#aesthetics" id="toc-aesthetics" class="nav-link" data-scroll-target="#aesthetics">Aesthetics</a></li>
  <li><a href="#scales-and-transformations" id="toc-scales-and-transformations" class="nav-link" data-scroll-target="#scales-and-transformations">Scales and transformations</a></li>
  <li><a href="#geometries-and-statistical-elements" id="toc-geometries-and-statistical-elements" class="nav-link" data-scroll-target="#geometries-and-statistical-elements">Geometries and statistical elements</a></li>
  <li><a href="#coordinates" id="toc-coordinates" class="nav-link" data-scroll-target="#coordinates">Coordinates</a></li>
  <li><a href="#guides-and-facets" id="toc-guides-and-facets" class="nav-link" data-scroll-target="#guides-and-facets">Guides and facets</a></li>
  <li><a href="#how-all-grammar-of-graphic-principles-combined-work" id="toc-how-all-grammar-of-graphic-principles-combined-work" class="nav-link" data-scroll-target="#how-all-grammar-of-graphic-principles-combined-work">How all grammar of graphic principles combined work</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Explaining the Grammar of Graphics</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="what-is-the-grammer-of-graphics" class="level2">
<h2 class="anchored" data-anchor-id="what-is-the-grammer-of-graphics">What is the Grammer of Graphics?</h2>
<p>The grammer of graphics is a set of rules that are followed when creating a graphic in R. When you are programming in R to make a graph, you need to declare each part of the graphc in a specific order to create the graph exactly how you want it. Its like the language strucutre of a new language. For example, in english, we follow the subject - verb - object rule. This means that we first declare a subject, then the verb and object. For example, “You eat apples”. “You” is the subject, “eat” is the verb and “apples” is the object. Since we followed the subject-verb-object rule, the sentence makes sense. This is the same idea for the grammer of graphics. The order we go in to make a graphic is R is data, aesthetics, scales and transformations, geometries and statistical elemetns, coordinates and then guides and facets. If we did this in another order like coordinates, scales and transformations then aesthetics, it wont work because we didnt follow the rules the grammer of graphics set. To make a graph that follows the grammer of graphics, you need a library called ggplot. This was made to follow the grammer of graphics and allows programmers to make detailed graphics. Within ggplot, you declare functions like <code>aes()</code> <code>data()</code>. Each function is a part of the grammer of graphics and they need to be delcared in the order discussed above.</p>
</section>
<section id="aesthetics" class="level2">
<h2 class="anchored" data-anchor-id="aesthetics">Aesthetics</h2>
<p>Aesthetics are an esstential part of the grammer of graphics. They are what you are going to see on the graph. Examples are the x and y coordinates and colours you will see on the graph. When coding, aesthetics are declared using:</p>
<pre><code>aes()</code></pre>
<p>The code is the written within the parenthesis. A common misconception about aesthetics is that the code within your parenthesis draws what you want onto your graph. However, they are just instructions, they don’t draw anything on the graph. Other components of the grammar of graphics are used for projecting the aesthetics however you want (scales and transformations, coordinates etc). Aesthetics are primarly built on attributes.</p>
<p>The main attribute is position. This refers to what you want your x and y coordinates to be. This is essential for a graph to work. This is because the x and y coordinates are the data you are using to tell the story you want. For example, to tell the story of the rise, fall and rise of the COVID 19 pandemic, you will need suitable data to convey this. You could use total number of cases on the y axis(the line going upwards) and a timeline for the x axis (the line going across). This will allow you to show the initial rise in cases, then the slow fall and show them rise again. Without the x and y coordinates, its very hard, and most of the time impossible to convey a story that can be told from a simple glance. To declare the x and y coordinates, you need write code similar to:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"ggplot2"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.5.2</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"iris"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width)) <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, i have declared my data-set. This is only necessary is you want to use your own data-set. If you are using a built-in data-set, like iris, you don’t need to declare it. I then declared ggplot, and within brackets, i declared my data-set, then used the aesthetics attribute. Then within parenthesis, i declared my x and y axis. Sepal.Length and Sepal.Width are like headings within the data-set. They have values associated with them, and ggplot uses them values to display your axis. You can rename your x and y axis but this is later within the grammar of graphics structure.</p>
<p>Why is position important? As stated previously, positions are needed so you actually plot data. It tells ggplot exactly what data you need to plotting and where to position the data on the axis. This is a component that is needed in every graph. You won’t always need other aesthetic attributes or other parts of the grammar of graphics for some really basic graphs, however positions are always essential because without it, you want be able to tell your story well or present findings.</p>
<p>Another attribute is colour. Colour in computers employ what is known as the RGB model.This model uses the colours red, green and blue, and combines them to create all the variety of colours you see on your monitor/screen. Each colour is represented with a value between 0 and 255. This is the colours intensity. For example, if all the colours are 0 (the lowest value) it will produce black. If they are all 255 (the highest value) then it will produce black. Each colour (red, green and blue) will have different values, and this will produce the colour you want. To change/establish colours in ggplot, you use the syntax <code>color =</code> You have to use the american spelling when using ggplot. After the “=” you can then type any colour you want. One useful feature of ggplot, is that you can make each object a different colour. For example, the data set “iris” has the width and length of a Sepal and a Petal. If you want to compare the heights of the Sepals and the Petals, you could set the color to be “Sepal.Width”. This will correlate a colour with each data point. Below is the example</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"iris"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length, <span class="at">color =</span> Sepal.Width)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, I’m comparing the length of both Sepals and Petals. Some points on this graph are dark blue, almost black and others are much lighter (baby blue). The higher the length, the lighter the colour. This is shown on the legend. This feature in ggplot is useful for differentiating different data-points and making the graph more pleasing to the eye.</p>
<p>If you want to choose the colour you want on your graph, you will have to declare it within the parenthesis of your geom. Below is an example:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"iris"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length)) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">'green'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, i have made all the points green. To make your data-points have different colours like in the other example, you will have to do that in the next part of the grammar of graphics, which is scales and transformations.</p>
<p>Why is colour a useful tool for plotting graphs? Its useful because it can look more pleasing to the eye. If your graph had no colour, it would look boring and no one would pay attention to it because its dull and not captivating. Colour can elevate a graph because the human eye is more attracted to colour. Also, colour can help you tell your story better. For example, if you wanted to present the average amount of behavior points each student has in a year group and compare them to others, using colours can help elevate your story. If the average number is low, like 8 for example, then the data point will be green. If its moderate, like 30, the data point could be orange/amber. If its high, like 40 or more, it can be shown as red. If the graph is showing older year groups are getting more behavior points than younger years, the graph can show progression from good behavior to bad by seeing green transform to red. Red is seen as a dangerous colour and red usually catches peoples attention because it shows something is bad. Many colours have associations with different things like red does, so utilising colours can enhance the story you are trying to tell.</p>
<p>Another attribute is size. Size refers to the length or area you want something on your graph to have. For example, on a scatter graph, you may want your dots to have a area of 20 pixels. For lines, size is refers to more the thickness of it. In the coding examples above, i used <code>geom</code> to declare how i want to map the data. These mapping options that can be manipulated with <code>size</code> include points and lines. The value you want <code>size</code> to equal is declared similarly to <code>color</code>. For example, like for colour, you can make it equal data. For example, I declared colour to equal Sepal.Width, which means a random colour will be assigned to each unique data-point. You can do the same for size. This will make the size of your data-point equivalent to the value of the data-points you assigned size to. Here as an example:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"iris"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length, <span class="at">size =</span> Sepal.Width)) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In the above graph, you can see that each data-point is different in size. Some are large, and some are smaller. This is because the bigger the width, the bigger the point will be and the smaller the width, the smaller the data-point will be. This method of adjusting size can tell a good story. For example, if you were looking at the average salary in every country, the graph can emphasise the big divide between wealth in the world. This is because you can see a real sense of scale, instead of just numbers or how much higher numbers are. You can also adjust size to your liking like this:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"iris"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length)) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, you need to declare the size in your geom, like colour if you want to choose the size instead of ggplot choosing it for you. If you want each data-point a different size, you will need to declare that in the scales and transformations part of the grammar of graphics (See Scales and Transformations)</p>
<p>Size is an essential part to being able to tell good stories from graphs because it can show change. For example, if you want to show obesity rates from the year 1925 to 2025, you can show the urgency of needing to fix it by showing data-points increasing in size as the obesity rates do. Seeing a small circle at the beginning of a graph, to a massive will captivate the viewer and show the scale of the matter. If every data-point was the same size, it wouldn’t be as captivating because you cant see the true scale, only dots or a line or other geom going up.</p>
<p>The attribute shape refers to exterior of an object. Examples are circles, squares, triangles, lines, ovals, pentagons and more. Shapes allow you to make each data-point unique so people looking at your graph can decipher different categories. To declare shapes, you use the in-built variable <code>shape</code>. Just like with the other aesthetics attributes, you can declare shape using data within the data-set you plotting. An example is shown below:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width, <span class="at">shape =</span> Species))<span class="sc">+</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, I’m comparing Sepal length to its width. Notice i have declared <code>shape</code> within the parenthesis of <code>aes()</code>. I then assigned the data of “Species” to shape. This means each unique specie will be assigned a shape and that shape will display when a data-point refers to that specie or example, a setosa could be assigned as a triangle, so each time a Setosa’s sepal width and length is mentioned as a data-point, will be shown as a triangle. One thing to keep in mind however when utilising shapes for your graphs, is shapes don’t work well for continuous variables. A continuous variable is data that can be any value. For example, height and temperature are continuous variables. This is because height can be any value, its not limited to a certain range. For example, you aren’t limited to being a height of 4 foot 3 to 6 foot. Shapes are best used for categorical variables. This is data that can only be a fixed value. For example grades. In education, you are graded based a set list of possible grades. If you wanted to have a graph of every grade a student got in a school in GSCE Maths, you can use shapes because the data “grades” are fixed to grades 1 to 9, instead of infinite values.</p>
<p>You can also manually declare which shape you want on your graph. You do this by declaring it in your geom. Common practice for aesthetic attributes, is you declare your aesthetic (colour, size etc) in the <code>aes()</code> if you don’t mind ggplot choosing the value for you, but if you do, you declare it your <code>geom</code>. Below is an example of declaring shape manually:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">8</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, i have the <code>shape</code> value to 8. The number you set is like a value associated with a shape. For example, 0 will produce a square, 1 will produce a circle and a 2 will produce a triangle. You can experiment with different numbers and see which shape best suits your graph, and experiment with how you can modify them. To make different data-points different shapes like in the automatic version, you will need to declare that in the scales and transformations part of the grammer of graphics. Why is shape important? Its important because shapes can make it easier to decipher different categories in the data. For example, in the Iris data-set, you easily decipher different flower types because of the unique shapes each one is assigned. If your data is clustered together, using shapes may not be a good idea because it can hard to identify which shape is which. All though you can make data-points further away from others later in the grammar of graphics structure, it can be hard for people with weaker eye-sight to properly distinguish shapes if there are many close by.</p>
<section id="overview" class="level4">
<h4 class="anchored" data-anchor-id="overview">Overview</h4>
<p>Overall, we have defined what aesthetics are and the different attributes within aesthetics. I explained what each one does, and i showed my skills by showing it in a practical way, showing how it can utilised and how it looks on a graph.</p>
</section>
</section>
<section id="scales-and-transformations" class="level2">
<h2 class="anchored" data-anchor-id="scales-and-transformations">Scales and transformations</h2>
<p>Scales and transformations are an important part of the grammar of graphics. Scales are how we want to position and place our aesthetics. We first declare the aesthetics in <code>aes()</code>, then we need a way to plot them in places we want them. Without this, your IDE (integrated development environment) will decide how to plot the aesthetics for you. This is generally fine for simple graphs that aim to display uncomplex data, but as your graphics become more detailed and you wish to tell more complex stories, you will need to be able to manipulate the aesthetics yourself so the graph can tell the story you want. Transformations are changing the data. You can transform the data in a variety of ways. These are mathematical transformations, statistical transformations and multivariate transformations. The most common are mathematical and statistical transformations. Why might you want to transform data like this though? You may want to this when you have a large data-set with a large amount of numbers. Doing transformations can summarise the data and make it seem less overwhelming. Having large amounts of data is great for analysis and telling a more accurate story, but it can make it harder to visualise and make it overwhelming for someone who isn’t knowledgeable in the field.</p>
<p>In the section where i discussed aesthetic attributes, i explained how to implement them, like colour and size. When it came to being able to have more control on these attributes, i explained you can also do this in the scales and transformations section in the grammar of graphics. There are two types of scales. Measurement scales and visual scales. People often get these scales mixed-up. Measurement scales describe how your data should be measured.Some common types of measurement scales include nominal (naming, best for data like gender/country), ordinal (ordered data, best for data like ranks), interval (numeric data with no zero value, best for data like temperature) etc. Why do we need measurement scales though? We need them because some visual attributes need them. For example, line charts show change over time. So, to display this properly, we need ordinal or interval measurement scales to show this. Visual scales on the other hand are manipulations to the position, and generally how the data-points are displayed on the graphs. These include functions like linear and log.</p>
<p>To use scales within your graphic, you can use can either discrete scales or continuous scales. Discrete scales are scales that only work for data that is categorical (data that is singular in a category). For example, the number of employees in a office is discrete. This is because you cant measure it, you can only count it. Continuous scales are scales that only work for data that is continuous and has ranges. For example, age is continuous because you measure it, instead of counting it. If we go back to the section where i explained aesthetics, we can see how i explained different aesthetic attributes and how to have more control of what we can do, we need to take advantage of scales and transformations. Here, i will explain how we can know use these different types of scales (discrete scales, continuous scales) to allow for more customisation of data like colour, shape, position and size. The first one i will explain is position. To scale positions, you will need to use the code <code>scale_x_continuous</code> or <code>scale_x_discrete()</code> depending on your data type.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">8000</span>, <span class="dv">20000</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 339 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This is an example of a continuous scale. Dates are continuous, so they need continuous scales to be manipulated. Here, i have used the economics data-set, which is built into R studio, and i compared dates to the rate of unemployed people. Notice i used the code <code>scale_y_continuous</code> to declare i want to manipulate the y-axis. This is the same code as mentioned before, but instead is for y axis. In the graphs above, i used the function limits, then made that equal 8000 to 20000. What has this done? This has made it so only values ranging from 8000 to 20000 are shown on the graph. This has made the graph show less values and only show want we want. You can see on the top graph that the line of data-points has holes missing with data that is below 8000. In the original graph, we see constant dips in the data. It goes up then down multiple times. This function isn’t good for data like this. Its best used for data that is more consistent and doesn’t have huge dips constantly. We can see though hwo this function can mislead people. If you just show certain data, something could look worse or better. For example, if we had data for new COVID cases daily, we could just show when new cases were at its highest but manipulate and make it seem worse than it is currently. So, this function should be used carefully and in a way that doesn’t mislead the viewer.</p>
<p>I will now show a discrete scale.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(mpg, cyl)) <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>, <span class="st">"4"</span>, <span class="st">"5"</span>, <span class="st">"6"</span>, <span class="st">"7"</span>, <span class="st">"8"</span>)) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(mpg, cyl)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>You can see here that i changed the labels. In the top graph, i have made it show the Y axis show numbers from 1 to 8, while the bottom graph just shows 4 to 8. This can be used well to tell your story. For example, if you are looking at the GSCE grades of a class, and they all got a 3 or above, to make even the lowest grades look better, you can add more grades like 2, 1, U and so on. This can help show the teacher is good and is capable. If it just showed from 3, the grades would look worse because when people see things at the bottom of a graph, they automatically think its low and not good depending on the topic. You can also do the opposite and make some sutiutions look worse then they actually are.</p>
<p>For colour, we can use various functions within continuous and discrete scales. Which one you choose is again dependent on the data you are working with.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length, <span class="at">color =</span> Sepal.Length)) <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_continuous</span>(<span class="at">low =</span> <span class="st">"blue"</span>, <span class="at">high =</span> <span class="st">"pink"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length, <span class="at">color =</span> Sepal.Length)) <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, you can see how i have manually done colours for the graph. On the top graph, instead of x or y, i used color to declare i wanted to manipulate colours. You have to declare colours in your aesthetics, make it equal what data you want then you can manually add the colours. For continuous variables, you need to set it to low, to high. This means that the lowest numbers will be whatever colour you delcare in the scales function, then as the numbers get higher, they will slowly transform into the other colour you declare. You can also notice that RStudio manually only adds one colour. This can make it hard to see an actual difference, so using scales to make this more clear, makes your graph more readable and more aesthetically pleasing to look at.</p>
<p>We will now look at how we can manipulate colours for discrete data:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length, <span class="at">color =</span> Species)) <span class="sc">+</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="at">setosa =</span> <span class="st">"red"</span>, <span class="at">versicolor =</span> <span class="st">"yellow"</span>, <span class="at">virginica =</span> <span class="st">"purple"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length, <span class="at">color =</span> Species)) <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, i have managed to make each specie have a colour assigned to them. Species are categorical values. This is because there is no in-between or ranged values. To do this, we dont declare <code>scale_color_discrete</code>, instead we need to declare <code>scale_color_manua`l</code>. This is because <code>scale_color_discrete</code> is used to control colours ggplot already gives you, instead of making your colours. You can see the difference in each graph. In the top one, with scales, the colours are much more prominent, where as the bottom graph colours are lighter, rather than darker. Also, you can control which data you want people to focus on. In the top graph, i have one value assigned to yellow. This is a much lighter colour that blends in. You can use this tactic to put more focus on other parts of the graph. This could be done because the data that is in a colour that blends in could show something bad and they only want people to focus on the more positive data. Without scales, this wouldn’t be possible as ggplot would just assign a colour at random.</p>
<p>Shapes can have multiple functions added to them in scales. For shapes, continuous scales don’t work. This is because shapes are discrete components. You can only have single shapes, there’s no in-between values for them. Colours has ranges of in-between colours, so it can handle ranges. So, shapes can only be manipulated by discrete values. If you use continuous scales, ggplot will automatically turn them into categorical values, meaning every value will have a shape. So, here’s some discrete scales for shapes:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(mpg, cyl, <span class="at">shape =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>( <span class="st">"4"</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">"6"</span> <span class="ot">=</span> <span class="dv">25</span>, <span class="st">"8"</span> <span class="ot">=</span> <span class="dv">9</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here you can see i can manually control what shapes i want. In the aesthetic section of this page, i discussed how to delcare shapes in ggplot. There, the shapes were automatic. And, if you wanted to use shapes of your choosing, every data-point had to be the shape you declared. Here though, i can manually declare each value to a shape. You do the same as in the aesthetics section where you declare shape as a variable and assign it to a number, where numbers up to 25 are shapes. This may not be optimal however if you have too many values to do (like a big-data data set). So, this is best for data sets with little categorys, so its possible to assign each one a shape. Since the shapes only go up to 25, you cant have more than 25 categories. So, shapes are best utilised for small data-sets, other wise the same shapes may repeat.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(mpg, cyl, <span class="at">shape =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"6"</span>, <span class="st">"4"</span>, <span class="st">"8"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(mpg, cyl, <span class="at">shape =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"8"</span>, <span class="st">"6"</span>, <span class="st">"4"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Another scale we can use is <code>scale_shape_discrete</code>. With this scale, we cant manually assign shapes, we can only control what ggplot gives us automatically. Here, i have shown an example. Here, ggplot has assigned three shapes. Circle, triangle and square in that order. I have managed to control which value gets what assgined shape by ggplot. You can see in the first one, i assigned the value 6 with the circle variable, value 4 with the triangle and value 8 with the square. Then with the second one i assgined the value 8 with the circle, 6 with the triangle and 4 with the square. You will need to experiment but seeing which order the shapes have been assigned and assign your values with the shapes you want. This gives us more control but <code>scale_shape_manual</code> is best for choosing shapes, rather then working with what you have. You won’t always need to choose your shapes, and ggplots choice of shape usually gets the job done.</p>
<p>For size, we can go back to using both discrete and continuous scales. Size is a measurement by nature. It was invented for measurement. So, we aren’t limited to discrete values because of how size is valued. An example of a dicrete value is below:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Petal.Length, Petal.Width, <span class="at">size =</span> Species)) <span class="sc">+</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_discrete</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using size for a discrete variable is not advised.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, i have declared the size to be Species, meaning each unique specie will be shown at a specific size. Here, i have declared the scales <code>scale_size_discrete</code> and within the parenthises, i declared a range of 1 to 3. This means that the size will range from 1 to 3. Since there are three species, i choose to have a three number range. This is because i want each specie to look similar in size but still be distinguishable from far away. However, if from 1 to 8, the Versicolor and Virginica data-points would be much bigger and the setosa data-points would be missed because the bigger points are much more prominent. I will now show a continuous scale:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy, <span class="at">size =</span> unemploy)) <span class="sc">+</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">trans =</span> <span class="st">"log10"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>You can see on this scale i have used the mathematical function log10. Log10 will essentially make smaller values more visible. This works best for data-sets with high ranges like from 1 - 1000. This is because for smaller data-sets, the smaller data can be seen more visibly, so adding log10 won’t add much extra benefit.</p>
<p>Scales are very important for making your graph your own. In the aesthetics section, i previously discussed how add poisitons, sizes, shapes and colours. They were very limiting and when you could customise, it didn’t give you much freedom in terms how specifics. For example, excel has graphs but they are very set in stone in terms of how they look like. The graph isn’t your own and looks like a standard graph. Having scales can help make your graph your own and make things how you want, not how a computer wants to. They also look more pleasing to the eye, because there is something new to look at as you go across the graph, so its better for presentations and getting peoples attention.</p>
<p>For transformations, i discussed earlier the different types of transformations you can do on your data. These were mathematical and statistical transformations. Some mathematical transformations include log(x), exp(x), sin(x), cos(x), tan(x), acos(x) etc. Mathematical transformations will influence the data by applying mathematical principles to them. This will change the way raw data is shown without affecting its structure. Statistical transformations include mean(x), median(x), mode(x), sort(x), residual(x), rank(x) etc. Statistical transformations are for summarising data and revealing potential trends. Here’s some mathematical transformations in real code:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, <span class="fu">log10</span>(unemploy))) <span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, i have two graphs. One doesn’t have the log10 function, the other one does. The first difference is the values. On the first graph, the values of unemploy are shown as 4000 to over 12000. In the second graph however, the numbers are changed to 3.4 to 4.2. This is because log10 compresses larger values and expands the smaller values. This means that data on the lower end can be seen more clearly. You see more data-points on graph 1 then you can on graph 2. If the difference in data is big, like 4000 to 12000, the larger values will dominate the graph, meaning the smaller values are undermined and look messier. So, by compressing the values, it will allow for the smaller values to be more spread out and can reveal patterns once otherwise unseen. If you are plotting graphs to analyse them and make decisions, your decision could be much different from not using log10 to using it. This is because you may not seen patterns at the bottom without it, and this can lead to a bad decision, and you would’ve thought of a better one had you seen the trends that were hidden.</p>
<p>Another mathematical transformation is sin(). Heres another comparision between the difference of a graph with sin(), and another without it.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(cyl, disp)) <span class="sc">+</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(cyl, <span class="fu">sin</span>(disp))) <span class="sc">+</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here i have used the sin() mathematical transformation. Again, this is declared before data is plotted, and sin has the value of disp. This means that the graph will display the values of each data value in the row disp in its sine value. These are in-between -1 and 1. This is a similar mathematical transformation to log10, which was just discussed above. Comparing the two graphs above, they both look very different. The data has seemed to flip between each graph. For example, the data-points above 8 on the cyl axis are on the bottom in the graph with sin, where as they are on the top for the graph without sin.Sin is best used to transform data that repeats patterns over and over like days of the week and sound waves. Sin is a relatively rare mathematical function in graphs because its used for a niche topic, and doesn’t make too much sense with non-repeating data. So therefore, the transformation sin won’t make much sense on this graph, however it does get the message across of rotations and patterns being good for the sin function.</p>
<p>For statistical transformations, there are a variety of methods. These are bins, summaries, regions, smooth and links. All of these will help elevate your graph by creating new data to help with condensing data properly. Each statistical transformation will only work for select geometries, so it wont work for some. This is something to keep in mind if you have a specific geometric you want to use to tell your story.</p>
<p>Bins are groups of data that are within a given range. For example, if you have data on the average household size for every country, you may have values ranging from 3 to 9. If you had 5 bins, your bins will have the ranges 3 - 4, 4 - 5, 5 - 6, 6 - 7 and 7 - 8. Each bin will have an equal range. The graph will then show the number of data-points that are within that range. This can help with summarising data faster and you could notice trends you wouldn’t have seen otherwise. This is an example in practice:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length)) <span class="sc">+</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">8</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, bins are set to 8, which means the bars are relatively big. This manipulation can be useful if you need to find out this data but it will take too long to manually do it. It essentially automates it for you. You will need more bins if your data has much higher ranges and/or is larger.</p>
<p>Now we will look at summary. This has already been discussed in the transformations section on this page. We have seen how we can use mean to help summarise and shrink down large data-sets. We will now look the median and sum to show this. This is how we can use median in practise:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width)) <span class="sc">+</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> median, <span class="at">geom =</span> <span class="st">"point"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width)) <span class="sc">+</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, you can see the difference between the two graphs.The top graph, which uses the function stat_summary, which calls the summary method, and within it, you do your statistics. You can notice that the bottom graph is quite clustered and it looks like there is a lot of data. In the top graph however, its much less clustered and the data looks smaller. The function median finds the middle number of a list of data. Lets say you have the sequence 2, 3, 4, 5, 6, 7, 8. The median will be 5. This is because its in the middle of the sequence. If the number of values is odd, there will be one median, if its even however, you average the two numbers in the middle by adding them and dividing them by 2. What ggplot has done for the top graph is get all sepal lengths. They group all values that are the same value, and find the median sepal width. For example, if there were 3 species with the same sepal length, they would get their sepal widths, put them in order of lowest to highest, then find the median. This means there is only one data-point for each sepal length value, instead of multiple. This makes it look way less clustered and makes it easier to read. The bottom graph is much better for in-depth analysis. This is because there is more data to work with and you could notice trends you otherwise wouldn’t. The top graph is better for presentations as its easier to understand and doesn’t look overwhelming. The next summary function is sum. The sum is the addition of all values within a data frame. Here is the sum function used in practice:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(cyl, mpg)) <span class="sc">+</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> sum, <span class="at">geom =</span> <span class="st">"point"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(cyl, mpg)) <span class="sc">+</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, again, you can see the big difference between each graph.The bottom one has lots of data-points and looks congested, however, the top graph is has very minimal data-points. This is because, you can see that only three cyl are used on the graph (4, 6, 8). Each one of them numbers can be seen as a data frame. Ggplot has added all the numbers in those data points together and displayed it on the graph. You can also see on the first graph, the only values on the y axis are in the hundreds, where as the bottom graph only has double digits. This kind of function could be used for almost any businesses. For example, cafes could use this to display to investors or manufacturers, that there business is worth working with. They could make a graph with all the months and have the sum of all the money made in that month and show it. Overall, this function summarises data well.</p>
<p>The next statistical method is region. Region makes a geometry out of interval data. Geometries are built on data, but the data wont have equal intervals between data (for example, a data frame may have data as 2, 5, 6, 8. The intervals aren’t consistent nor the same.) So, regions will create those equal intervals and produce data-points to show the data in each interval. For example, if you have data with three intervals like 2 - 5, 5 - 8 and 8 - 11, then your graph will produce a geometry to show the data in each interval. This is useful when summarising data and presenting it, instead of doing a full-depth analysis. I will discuss two functions that can do this. These will be standard deviation and standard error.</p>
<p>The standard deviation is how far values in a data-set are from the mean. This is great to show how data can deceive people. You can use means to tell a story and use it to make a big decision. However, if the standard deviation is high, that means the data could be off and you make a bad decision because of it. Here is standard deviation in graphs used in practice:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ToothGrowth, <span class="fu">aes</span>(len, dose)) <span class="sc">+</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> sd, <span class="at">geom =</span> <span class="st">"point"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 30 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ToothGrowth, <span class="fu">aes</span>(len, dose)) <span class="sc">+</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This is the same principle as the statistical function median. As you can see, the top graph is much less clustered where was the bottom one has much more data-points. It has summarised the data by using standard deviations. Again, the top graph is best for general viewing and presentations, as it makes the graphs look less complicated and overwhelming. The bottom graph is better however for analysis as it contains more data to work with, meaning you could notice trends you otherwise wouldn’t have.</p>
<p>Standard error is when you find out the standard deviation between samples of data. For example, if you had data on how many people are in a shopping centre on a weekday compared to weekend, your data samples will vary. You could do the inital test in winter, where more people will likely be there because its colder, so people are less likely to be outside doing things. If you did it in the summer, less people may be there because its warmer, so people are more likely to be outside instead of indoors. So because of this, standard error was made so it can measure the difference between data samples means. Heres standard error in practise:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(mpg, hp)) <span class="sc">+</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data =</span> mean_se, <span class="at">geom =</span> <span class="st">"errorbar"</span>) <span class="sc">+</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"point"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(mpg, hp)) <span class="sc">+</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Both graphs are very similar in terms of the amount of data points. However, the first graph has an error bar to show the standard error. What ggplot has done in this graph is take each unique mpg and turns them into unique groups. In this particular data-set, there are some mpgs that are singular, while some mpg values appear more than once. These duplicate values will become groups and ggplot will work out its standard error. You will notice some data-points have bars. This is the standard deviation. The ones without it are ones that have a unique mpg value, it doesn’t appear again in the whole data-set. You can see that the SE (standard error) is relatively low. This means the mean is similar to other samples of data. Using SE can show that the data collected is accurate with little errors, but it can also show bad data collection methods or human error, depending on how long the bars are. Having SE shown on a graph can help with presenting samples without having multiple graphs, and can show how different situations can produce different data. This could be used for shops, where they measure foot traffic but show SE as it could have been a slower week then normal or was during summer holidays, where shops are much busier because of schools closing. Having SE can also make sure graphs are more authentic, as some graphs can be misleading and only show data that is way off the average from other samples.</p>
<p>The next statistical method is smooth. When you have data, its often not ideal for plotting graphs or analysing it. Trends/patterns are hard to see in raw data (data before anything is manipulated, its original form) and seeing it this way can lead to bad decision making or not truly representing what the data is showing. The smooth function estimates trends/patterns from the raw data to make it more readable. To use smooth in practice, we look at the functions linear and density. Heres how linear can be used in practice:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length)) <span class="sc">+</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">geom =</span> <span class="st">"line"</span>, <span class="at">colour =</span> <span class="st">"blue"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>You can see that there is a line going through the graph. This line has been produced by ggplot, by estimating a trend using existing data-points. It takes the first data-point on the left of the graph and then gets the first data-point on the right. Using this data and the data in-between these data-points it draws something called a line of best fit. It shows an estimation of change over time. This function is best for when you want to show the overall picture. The line simplifies the graph. Without it, it may look confusing as there are multiple data-points for each sepal length value, which may show inconsistent data that doesnt tell you much. But, the line shows consistent growth in petal length as sepal length increases.</p>
<p>The next smooth function is density. Density what parts of your data are the most dense. This means how close they are together. Here’s density in practice:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length)) <span class="sc">+</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_density_2d</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length)) <span class="sc">+</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The first difference between both of these graphs is the blue circles on the top graph. This shows the density of your data. The blue lines are showing the distance between data-points. You can see that some parts are like Russian dolls, where there is a circle within a bigger circle then other parts are much more open with nothing in-between. This can help you with showing trends. For example, if you looked at the temperature every day for a year, you could use density as a way to show how when a new season starts, the weather is very similar and how much it changes between seasons. So, nothing has been done to the data, rather a new way to show change in the data. With the new density lines, you may be able to spot which sections are new species. For example, the first dense part is setosa and the next one is versicolor.</p>
<p>The final statistical method is link. Link is a very useful function. It takes your data and predicts its values as a projector. This can be used for probabilites or counts.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ToothGrowth, <span class="fu">aes</span>(len, <span class="fu">as.numeric</span>(supp <span class="sc">==</span> <span class="st">"OJ"</span>))) <span class="sc">+</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"glm"</span>, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in stat_smooth(method = "glm", family = binomial(link = "logit")):
Ignoring unknown parameters: `family`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ToothGrowth, <span class="fu">aes</span>(len, supp)) <span class="sc">+</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, we have used logistic regression, which measures probability. This means that it will take a tooth length, and show how likely it is to be one supplement rather than the other. So, ggplot will take each tooth length, and then predict whether its an OJ supplement or VC supplement. It does this by using a scale of 0 to 1. 1 being its very confident its OJ and 0 being its definitely VC. This can be used to show predictions vs actual data. What i have done, is i have made the supplements (OJ, VC) as binary. Meaning 0 is VC and 1 is OJ. The dots show the actual data collected for the ToothGrowth data-set. The blue line is the predictions for each tooth-length. You can see that as the tooth length increased, so did the probability of it being OJ as the supplement chosen. This was sort of the case as more data-points appeared as the tooth length did.</p>
<p>The next link function i will show is poisson regression. This is for predicting counts:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"glm"</span>, <span class="at">family =</span> <span class="fu">poisson</span>(<span class="at">link =</span> <span class="st">"log"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in stat_smooth(method = "glm", family = poisson(link = "log")):
Ignoring unknown parameters: `family`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We will now use poisson regression, which will predict counts. This is similar to logit regression but for counts. It will take a date, and predict how many unemployed people there will be. Instead of using probability, it will predict a real number, instead of a probability value. The blue line represents what ggplot predict the number of unemployed people will be on different dates. It got it relatively accurately. The real data goes up then down then up again, while the prediction is it goes up continuously every year.</p>
<section id="overview-1" class="level4">
<h4 class="anchored" data-anchor-id="overview-1">Overview</h4>
<p>Overall, scales and transformations are very important in the grammar and graphics and producing complex graphs in general. Scales allow you to manipulate how your data is placed. This will let you tell the story you want, instead of letting ggplot just do it for you and have no control of it. Transformations can help change your data, which allows you to make graphs easier to read and make data easier to work with and help tell the story you want.</p>
</section>
</section>
<section id="geometries-and-statistical-elements" class="level2">
<h2 class="anchored" data-anchor-id="geometries-and-statistical-elements">Geometries and statistical elements</h2>
<p>Geometries are how we want to present the data. This can include a point, barchart, histogram and more. Choosing the right geometric is important for the story you want to tell with your graph. Different geometric’s will present the data differently, so choosing the wrong one can cause the viewer to have a view you didn’t want. Lets explore this by using the same data-set and data for multiple graphs but change the geometry each time.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(mpg, disp, <span class="at">color =</span> disp)) <span class="sc">+</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here’s the first graph. I have used the mtcars data-set with the x-axis being mpg and the y axis being the disp. I have also chosen the geometry point. This has essentially made a data-point for each mpg and placed it in the place that is opposite its disp on the y-axis. This geometric allows you to show all the data individually, meaning you can find data in the data-set and easily find it on the graph unless its condensed.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(mpg, disp, <span class="at">color =</span> disp)) <span class="sc">+</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This graph uses the same data-set, same x and y axis but the difference is the geometric. I used a line instead of points. Here, there is a continuous line that goes through the graph and goes up and down according to what each mpg has for disp in the data-set.</p>
<p>So, how has the geometric affected how you can view the graph? For points, you can see each individual data-point and points make clusters easier to notice. This is because our eyes catch bigger things first. A line wont be able to do that because the line thickness/size will stay the same, unless you manipulate it with scales, but it still won’t have the same effect. Lines however are better for noticing overall trends. This is because you can see big spikes, consistency and huge dips. Since you don’t have to mentally connect the dots like with lines, this makes them much more transparent. Also visually, the first graph less denser and messier. Where as the second graph looks more organised and less dense.</p>
<p>The biggest difference is that points are more focused on specific data and lines are more focused on trends and seeing the bigger picture. For example, if you want to see how the 10 countries with the highest amount of doctors per 10,000 people compare in numbers, you may want to use points. This is because you can focus on each country. For example, the countries with the highest doctors per 10,000 people may be Monaco, Germany, Luxembourg, Spain, Norway, Finland, Denmark, Netherlands, Belgium and Japan.Your goal isn’t to see trends, it’s to see each individual country and how they compare to the next. Where as with a line, its more focused on trends, rather than comparisons. you may use a line to see house price increase. If you want to see how house prices have changed over the years, you may use a line. This is because you aren’t focused on each specific year, you are more focused on seeing a general timeline and see how prices have increased or dropped in some senraios. For example, on the x-axis, you may have years shown as every 10 years (1900, 1910, 1920, 1930, 1940 etc). This suits a line much better as there’s no specific year you want, you just want to see how it changed between one decade to the next. Overall, you want to use points for data you want to analyse with more depth and specifics, and use a line just to show trends and for less complicated analysis.</p>
<p>Now lets compare bar charts and histograms. Below are two graphs, one will be a barchart, the next one will be a histogram.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ChickWeight, <span class="fu">aes</span>(Diet)) <span class="sc">+</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length)) <span class="sc">+</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Bar charts and histograms are similar, but different. Bar charts have bars that are separated, where as histogram bars are all joined together. Histograms are counts of numeric data but bar charts only compare counts of categories. Essentially, histograms are for numerical data, and bar charts are for categorical data. Each graph will make you look at the data differently. Their differences are the same as the differences between lines and points. Bar charts are better for individuality. This is because each bar is separated, meaning you can easily look at each unique data-point. For histograms however, its continuous like lines, meaning you can better see trends and is better for general viewing rather than for a in-depth analysis.</p>
<p>Statistical elements are mew components added to a graph from transformed data. We have previously seen this in practice:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length)) <span class="sc">+</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">geom =</span> <span class="st">"line"</span>, <span class="at">colour =</span> <span class="st">"blue"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here’s a graph from earlier. We have geom_point, which is showing the raw data. We then applied a transformation of linear to the data. This is the statistical transformation. We have changed the data before displaying it. The statistical element is then the line. This is our transformed data being shown. This is the statistical element, the result of our transformation. For example, if we want to edit a photo using Photoshop, the original photo is our raw data. The things you do to the photo in Photoshop, like adding lighting, cropping things etc, is the transformation. The final image is then statistical element. It shows the added components you did in Photoshop. Other examples of where we did this are:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Petal.Length)) <span class="sc">+</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_density_2d</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The statistical element is the lines we see are the results of calculating the density of our data-points, and the actual calculating of the density of the data-points is the transformation.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"glm"</span>, <span class="at">family =</span> <span class="fu">poisson</span>(<span class="at">link =</span> <span class="st">"log"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in stat_smooth(method = "glm", family = poisson(link = "log")):
Ignoring unknown parameters: `family`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The transformation is “glm” and poisson. The statistical element is the line now produced of the predictions of the number of unemployed people across the years.</p>
<p>Statistical elements aren’t always manually declared. They are sometimes set-in-stone by certain transformations. This is the case for the two graphs above. We do however have to for some transformations, like the first graph i showed. We are limited to some elements for some transformations, as some wouldn’t physically work in that context.</p>
<p>Statistical elements isn’t something you need to think about too hard, because you don’t have much control on what elements are shown for your transformations. With normal geometric’s , you have all the options available to you at anytime, but for transformations you are limited because of the transformations nature.</p>
<section id="overview-2" class="level4">
<h4 class="anchored" data-anchor-id="overview-2">Overview</h4>
<p>Overall, geometries and statistical elements are essential for how data is shown. Geometries are how data is shown using shapes like points, lines, bar charts and box plots. I discussed how each one is unique and how choosing a different geometric can influence how the data is shown and explained how you might use each one with examples. I then looked at statistical elements, showing how they plot the transformations, rather than raw data.</p>
</section>
</section>
<section id="coordinates" class="level2">
<h2 class="anchored" data-anchor-id="coordinates">Coordinates</h2>
<p>Coordinates in the grammar of graphics are how we position the whole plot. In scales and transformations, we are just manipulating the aesthetics, like colour, shapes and sizes, however with coordinates, we are controlling how the whole graph is placed. Coordinates allow us to present data however we want, to tell the story we want to tell. Manipulating coordinates can lead to misleading graphs, however if its used correctly and ethically, we can use it to change peoples minds, without twisting the original data. The most common coordinates are Cartesian, Polar and fixed. Cartesian coordinates refer to the x and y coordinates. This means you can manipulate the positions of the x and y coordinates. These will be in every graph, so you can use cartesian coordinates in every graph, it’s not limited to some specific circumstances. Here’s this in practice:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width)) <span class="sc">+</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">7</span>), <span class="at">ylim =</span><span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Think of the graph being a painting and we need to place it in a frame. How we place it in the frame is the above code. We can place the frame anywhere we want on the painting. We chose where we want it in the <code>xlim()</code> function. We are saying we only want to see values between 4 and 7. It will exclude anything outside of this range. This is very similar to previous code we looked at:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">8000</span>, <span class="dv">20000</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 339 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, we have done a similar thing. We have limited what data we want to see. However, there is a big difference. If you do this with <code>coord_cartesian()</code>, then the data you have excluded is still there. Ggplot has just zoomed in on that section like a camera. For example, if you took a photo of an enitre mountain, then when you got home you wanted to see the peak more clearly, you can zoom in to just show the peak. The rest of the picture is still there, you have just limited what you want to see. This is the same concept. If you use <code>scale_y_continuous</code> instead, the data is actually deleted instead of just zooming in. You can see in the graph above some data points are missing, however in the first graph, you can see the top half of some data-points, showing data hasn’t been deleted. You only use the above example when you know some data is invalid and for overall data cleansing. You should use the first example most of the time because unless your cleaning data, you may mislead people. This shows how different parts of the grammar of graphics can do similar things, but have important distinctions that data visualisers should know to not mislead viewers.</p>
<p>Polar cooridnates will make data-points according to how far it is from a central point rather than along the x and y axis. A great example of a polar coordinate is a pie chart:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="dv">1</span>, <span class="at">fill =</span> class)) <span class="sc">+</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, we have a pie chart for the number of certain car types in a data-set. A polar cooridnate system measures values by seeing how far it is from a central point, known as radius r, and direction which is known was angle 0. For pie charts specifically, ggplot will work out what percentage of the total values a certain value takes up, turn it into a decimal and times it by 360 degrees, which is the angle of a circle. for example, if you had data on the year groups of students on a work experience programme, and 50% of students were in year 12, you would do 0.50 X 360 to find out what degree that section should be in the circle on the pie chart, which is 180. This means ggplot will make this section 180 degrees. Polar charts can become misleading if the design choice is poor. For example, for pie charts, a small section on the chart will leave the impression that that value is irrelevant or small in comparison to the rest of the data, but it could be a huge value and is relatively significant. So, choosing a polar coordinate system can either enhance your graph, making it make more sense or more readable, but also ruin it by adding deception or making it misleading.</p>
<p>A fixed coordinate is a coordinate that has a fixed aspect ratio. This means that once you declare an aspect ratio, ggplot will make sure that it follows this aspect ratio and never change it. This means that no matter what is added to the graph,, it will keep that ratio, never distorting it. This can be achieved by using <code>coord_fixed</code>. Here’s fixed coordinates in practice:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, pce)) <span class="sc">+</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>() <span class="sc">+</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="at">ratio =</span> <span class="dv">2</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-51-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, pce)) <span class="sc">+</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>() <span class="sc">+</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="at">ratio =</span> <span class="dv">2</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid figure-img" width="1440"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, pce)) <span class="sc">+</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>() </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, pce)) <span class="sc">+</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid figure-img" width="1440"></p>
</figure>
</div>
</div>
</div>
<p>Here, i have set the radio to be 2. What ggplot has done is its scaled the y axis by 2. This means the x axis has been condensed so the y axis is 2 times bigger then the x axis. I have four graphs. Two are to show the difference between the graphs with or without the <code>coord_fixed</code> function, and the other two are to show its effects clearer. You can see that the graph with <code>coord_fixed</code> is much smaller than the one without it. I then made another graph to show what they look like when the graph is resized to be bigger. You can see the graph with the <code>coord_fixed</code> function has the same dimensions, it just became a much smaller overall graph while keeping its aspect ratio. Then, for the graph without the <code>coord_fixed</code> function, its aspect ratio got distorted and the graph stretches. This can now become misleading. The stretched graph looks like PCE increased slowly over each decade. However, the non-stretched graph looks like PCE increased much quicker over the decades. Depending on your goals or what the data is actually showing, this can become misleading. If PCE actually had drastically increased over the decades, the first graph is much better because it accurately shows this. However, the second graph doesn’t, because it shows a much more gradual rising, because it got lengthened so much. If the data is more accurate when shown this way, then coordinates aren’t needed. However, visualisers need to be careful that they wont mislead people or use it for unethical purposes. If you don’t want to change the ratio of your graph, but you don’t want it changing when different components are added, you can set the ratio to be 1. This will keep the default ratio, which is 1:1, but you still get the benefits the ratio never changing.</p>
<p>Another concept of coordinates is isometrics. Fixed coordinates and isometrics are used together. As discussed previously, fixed coordinates preserve the ratio of the graph, meaning geomtries aren’t distorted. Isometrics are transformations to geometries. Fixed coordinates are needed so the isometric transformations don’t look distorted. There are three types of isometric transformations. These are translations, rotations and reflections. Translation is moving an object either horizontally or vertically without changing its properties. Rotations is rotating an object around its central point without changing its properties. Reflection is inverting an object either horizontally or vertically. (Leland Wilkinson 2005). These transformations can stretch the graph in a way that ggplot is forced to stretch an axis so it can fit the new object. This can distort the graph and as seen in the examples above, you can use fixed coordinates so the graphs aspect ratio is the same, while still being able to have the benefits of the transformations. It could be good practice to apply fixed coordinates when doing any transformation to prevent the risk of a misleading graph, even if you don’t see much difference.</p>
<section id="overview-3" class="level4">
<h4 class="anchored" data-anchor-id="overview-3">Overview</h4>
<p>Coordinates are used for position of objects and data. They can help shape the data in ways that you want, to enhance your story, and show more light onto certain data. Coordinates should be used carefully as they can lead to mis-information and/or misinterpretation.</p>
</section>
</section>
<section id="guides-and-facets" class="level2">
<h2 class="anchored" data-anchor-id="guides-and-facets">Guides and facets</h2>
<p>Guides help with explaining your graph. If you saw a graph with no titles, lots of colored data-points, then you would be confused on what you are looking at and you wont understand what its trying to prove. Guides can be used to show what different parts of the graph mean/show. Without guides, graphs will be pointless, doesn’t matter how well they tell their story or how aesthetic it looks. One common example of a guide is legends. Legends are usually seen outside of the actual graph with little boxes with colors/symbols with names next to them. For example, a legend could say:</p>
<ul>
<li>Blue = Primary school</li>
<li>Purple = Secondary school</li>
<li>Red = College</li>
<li>Green = University</li>
</ul>
<p>A graph could show the average grade of a student in primary school, secondary school, college and university. This could be shown with colours to differentiate them. The viewer wont know what the colours show, so this legend would be useful so people know what colour is what.</p>
<p>To make guides, you will need to delcare <code>guides()</code> or you can do this in <code>labs()</code> or <code>theme()</code>. What is the difference between these? Guides will be for controlling your mappings, like legends. For labs, its the name of your properties. For example, this is where you will name the x and y axis. Ggplot just names them how they are shown in the data-set. You can also provide a title for the whole graph and name of the legend. Theme is everything else that has nothing to do with the actual data on the graph. This could include text size I will now go through each one and explain what you can do with them: First one is guides. For guides you could do:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width, <span class="at">colour =</span> Species)) <span class="sc">+</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"The Legend"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width, <span class="at">colour =</span> Species)) <span class="sc">+</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>You can see that ggplot automatically applies legends, but might not do it in the way you want. For example, ggplot just names the legend the name of the data you made colour equal, so you can customise it as done above. This doesn’t affect the data, it just effects the labels. This only needs doing is the name of the legend is an abbreviation, like cyl in the mtcars data-set. Viewers may not know what it stands for, so using full words will help viewers understand. Another things you can do to legends is change their order:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width, <span class="at">colour =</span> Species)) <span class="sc">+</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> <span class="cn">TRUE</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, i have managed to reverse the order of the legend. The original order was setosa, versicolor then virginica. You can also manually change the order in any way you want in scales.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width, <span class="at">colour =</span> Species)) <span class="sc">+</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_discrete</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="st">"virginica"</span>, <span class="st">"setosa"</span>, <span class="st">"versicolor"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-58-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Order doesn’t matter too much for legends, however it can for certain circumtances. For example, you may have different colour points that are spread out in categories, like red is all in one section, then yellow in the next. Having your legend be in that order, can help with navigation because you just need to look one colour down, instead of searching through it each time.</p>
<p>Next one is labs. For labs, you could declare:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ToothGrowth, <span class="fu">aes</span>(len, supp)) <span class="sc">+</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Tooth Growth Graph"</span>, <span class="at">x =</span> <span class="st">"Tooth Length"</span>, <span class="at">y =</span> <span class="st">"Supplement"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ToothGrowth, <span class="fu">aes</span>(len, supp)) <span class="sc">+</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, i have changed the labels on the graph. I added a title, and renamed the x and y axes. You can see in the non-modified graph, there is no title and the names of the x and y axes were len and supp. These are abbreviations, and this can look lazy to some viewers or can make the graph confusing. Since there is no title, viewers don’t know the context, and since the x and y axes are labeled with abbreviations, viewers can struggle with deciphering the graph. With the changes however, the title gives context, and the x and y axes are labelled with full words, not abbreviations. You can see how this has enhanced the graph and made it look more professional.</p>
<p>The final guide function is theme. You can declare the following:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width, <span class="at">colour =</span> Species)) <span class="sc">+</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sepal length vs width"</span>) <span class="sc">+</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>, <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">25</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-61-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width, <span class="at">colour =</span> Species)) <span class="sc">+</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sepal length vs width"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-62-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>You can see how i have manged to change positions and size. I have changed the size of the graph title so its more prominent, and i made the legend be at the bottom. The position of the legend is the preference of the viewer and how they like to look at them. A bigger title can catch the attention of the viewer first, because humans are drawn towards to bigger things first rather than small. So, this means the first thing people see is the context of the graph and then the graph, then the legend. The downside of a legend on the bottom, is it can be easy to miss, so viewers can become confused quickly.</p>
<p>While guides overall don’t effect the data or how the graph its self is shown, they are essential for viewers to be able to navigate the graph, and know what each part means within the legend, what each axes shows and what the graph is actually showing with the title.</p>
<p>Facets are multiple graphs in one. Facets are used for comparisons. Each graph will show subsets of the data you provide, but with the same axes. There are different types of facets. Ones called grid, and the other one is wrap. We will first look at grid facets:</p>
<p>You will use a grid facet when you want to use two variables. It will create the graphs with one variable for rows and other for columns. Here it is in practice:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ToothGrowth, <span class="fu">aes</span>(len, dose)) <span class="sc">+</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(supp <span class="sc">~</span> dose)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-63-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, i have used the tooth growth data-set, and im comaring length with dose. I have then used points for my geometric and then i declared a facet grid function. I have then used the supp variable and dose variable to facet. The first variable you declare will be shown in rows, and the second will be as columns. So, ggplot has taken all the supplement values and placed them as rows. Then, ggplot has taken all the dose values and placed them in rows. Now, the graph will show the teeth length for each dose value for each supplement. This can make comparisons much easier because data points can easily be hidden behind others if you didn’t use facets. Facet grids are best for more complex data that has a lot of subset data. Facets in general are good for presentations. This is because ggplot labels the name of the variables and it shows each unique data-point.</p>
<p>We will now look at <code>facet_wrap()</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ToothGrowth, <span class="fu">aes</span>(len, dose)) <span class="sc">+</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>supp)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-64-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Facet wrap should be used for one variable. Here, i have used the tooth growth data and declared the x and y axes to be length and dose. I set the “point” geometric and then used <code>facet_wrap()</code>. I then used the “~” symbol then declared the variable supp. Ggplot has subsetted all the supplements in the data-set, and just displays the data for that supplement. We can now just see the length of teeth to the dose for OJ and VC. Before, we had to see both of them on one graph. This can become confusing and overwhelming when trying to analyse just one supplement, so using facets is great for comparison. We can now see clearly the data is relatively similar. Lower doses are associated with lower teeth length, and higher doses are associated with longer teeth. We also now don’t have to worry about data overlapping with each other, we can see every data-point individually. So this means we can see patterns/similarities/differences much easier.</p>
<section id="overview-4" class="level4">
<h4 class="anchored" data-anchor-id="overview-4">Overview</h4>
<p>Guides are how we explain our graph. We do this with labeling the x and y axes, the title of the graph and controlling the legend. Facets are multiple graphs in-one, where variables are subsetted to avoid dense graphs taht block data-points and make the graph look overwhelming.</p>
</section>
</section>
<section id="how-all-grammar-of-graphic-principles-combined-work" class="level2">
<h2 class="anchored" data-anchor-id="how-all-grammar-of-graphic-principles-combined-work">How all grammar of graphic principles combined work</h2>
<p>Now we have discussed all the grammar of graphics principles and i have explained what they mean. But how do they all fit together? Here’s a graph with all grammar of graphic principles applied and how they work together:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width, <span class="at">colour =</span> Species)) <span class="sc">+</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="at">setosa =</span> <span class="st">"red"</span>, <span class="at">versicolor =</span> <span class="st">"purple"</span>, <span class="at">virginica =</span> <span class="st">"yellow"</span>)) <span class="sc">+</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> median, <span class="at">geom =</span> <span class="st">"line"</span>) <span class="sc">+</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="at">ratio =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Species"</span>)) <span class="sc">+</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sepal Length vs Sepal Width"</span>, <span class="at">x =</span> <span class="st">"Sepal length"</span>, <span class="at">y =</span> <span class="st">"Sepal width"</span>) <span class="sc">+</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Species)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="grammar_of_graphics_files/figure-html/unnamed-chunk-65-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>First, we define what data set we are using. We then declare aesthetics. This is what are x and y axes will be, and what we want to appear on the graph like colour. I have chosen to use Sepal.Length and Sepal.Width as my x and y axes then declared colour to be species, meaning every unqiue specie will be a different colour. I then declared my geometric to display my raw point, which are points. This means every data-value will be pin-pointed with a dot. I then used scales to manually include what colour i want each specie to be. I then combined this with a transformation, to show the median of sepal width for each sepal length, and used a statistical element to show this (used a line in this case). I then added coordinates, which was fixed coordinate so my graph stays consistent in terms of aspect ratio. Then i added guides to rename my legend, make a title for my graph and named the x and y axes. Then, i adjusted the size of my plot title. I then used a facet to subset species, so each specie has its own graph for comparing sepal length vs sepal width. Each element has added features which makes the graph look more complicated, but also enhance it for readability and help get a story across.</p>
<p>Geometries along with aesthetics can produce a graph that is readable, and without one or the other, a graph cant exist. Scales can enhance aesthetics because you have control on how you want aesthetics to be displayed. Without scales, ggplot will do it for you, but it may not be in a way you want. Transformations help shape your data ggplot can’t naturally do. It means changing your data, which can enhance the datas usefulness by removing unneeded data, which can make a graph more clustered and hard to read. So, it overall helps with making data more suitable for plotting. Statistical elements will help display this change of data, which means it can be analysed and can be compared to geometrics for raw data, which can help with pattern recognition. Coordinates help pin-point aspect ratios and how you layout where you want your scales. You define aesthetics, scales to display visuals in a way you want, then coordinates helps you with how to lay the scales out. Then guides will help with navigation and providing text to what each part means. This enhances a graphs readability and ease of viewing. Then facets help with comparsion. Without them, data-points would over-lap, data is clustered which makes it harder to notice more specific trends. This can enhance decision making and overall analysis.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>Hadley.W., Garett.G., and Cetinkaya-Rundel, M. (2023) <em>R For Data Science</em>. Sebastopol; O’Reilly Media</p>
<p>Leland Wilkinson (2005) <em>Statistics and computing: The Grammer of Graphics (Second Edition)</em>. New York; Springer</p>
<p>https://rgbcolorpicker.com/ (Accessed: 09/12/2025)</p>
<p>https://vle.harper-adams.ac.uk/course/view.php?id=287 (Accessed: 09/12/2025)</p>
<p>https://www.isixsigma.com/methodology/categorical-vs-continuous-data-whats-the-difference/ (16/12/2025)</p>
<p>https://vle.harper-adams.ac.uk/course/view.php?id=287 (Accessed: 22/12/2025)</p>
<p>https://vle.harper-adams.ac.uk/course/view.php?id=287 (Accessed: 22/12/2025)</p>
<p>Vinod Chugani (2024) <em>Choosing the Optimal Bin Size for Your Histogram</em>. Available at: https://www.statology.org/choosing-the-optimal-bin-size-for-your-histogram/ (Accessed: 23/12/2025)</p>
<p>University of Colorado Boulder (2021) <em>A Grammer of Graphics</em>. Available at: https://www.youtube.com/watch?v=RCaFBJWXfZc (Accessed: 22/12/2025)</p>
<p>NumberAnalytics (2025) <em>The Ultimate Guide to Standard Error in Stats.</em> Available at: https://www.numberanalytics.com/blog/ultimate-guide-standard-error-stats (Accessed: 28/12/2025)</p>
<p>https://vle.harper-adams.ac.uk/course/view.php?id=287 (Accessed: 02/01/2026)</p>
<p>https://vle.harper-adams.ac.uk/course/view.php?id=287 (Accessed: 06/01/2026)</p>
<p><strong>AI has been used in this document (For research and definitions then written in my own words, helping with troubleshooting coding issues)</strong></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>